{% extends 'main.html' %} 

{% load static %} 

{% block content %}

<main class="main-element">
    <section class="main-page flex-main-page create-campaign">
      
      {% include 'vertical_navigation.html' %}
  
      <div class="template">
        
        {% include 'messages.html' %}
        {% if request.user == profile.user %}
        <span class="account-profil-and-bell">
            <h1 class="desktop">Account Profile</h1>
            <h1 class="mobile">Profile</h1>
            <a href="{% url 'edit-profile' %}"><p class="active-account-btn edit-account">EDIT PROFILE</p></a>
            <img src="{% static 'images/bell.png' %}" alt="bel-icon" class="bell-icon">
        </span>
        {% endif %}


       <div class="account-details-container">

            <span>
                <!-- <img src="{% static 'images/dave1.jpg' %}" alt="img" class="user-profile-image"> -->
                <img src="{{ profile.profile_image.url }}" alt="img" class="user-profile-image">

            </span>

            <h1 class="center user-names">{{ profile.user.first_name|upper }} {{ profile.user.last_name|upper }}</h1>
            <p class="center">{{ profile.programme_of_study }}</p>
            <p class="center">{{ profile.abbreviation_of_institution }}</p>

            {% if request.user == profile.user %}
            <span class="dashboard-campaign-btns">
                <p class="active-account-btn"> Campaigns</p>
                <p>Saved Campaigns</p>
                <p>Donations</p>
            </span>
            {% else %}
            <h1 class="profile-projects">PROJECTS</h1>
            {% endif %}
            
            <span class="user-profile-projects">

                {% for project in projects %}
                <div class="account-project">
                    <a href="{% url 'campaign' project.id %}">
                        <img src="{{ project.project_image.url }}" alt="" class="account-project-image">
                        <h3 class="tit">{{ project.project_title }}</h3>
                        <p>{{ project.brief_description }}</p>
                    </a>

                    <div class="project-state">
                        {% if request.user == profile.user %}
                        <a href="{% url 'edit_campaign' project.id %}" class="support-project-link">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none">
                                <path d="M7.29378 17.5H15.8335M9.8205 4.42643C9.8205 4.42643 9.8205 5.78861 11.1827 7.1508C12.5449 8.51299 13.9071 8.51299 13.9071 8.51299M4.43318 14.9901L7.29378 14.5814C7.70641 14.5225 8.08879 14.3313 8.38353 14.0365L15.2693 7.1508C16.0216 6.39848 16.0216 5.17874 15.2693 4.42642L13.9071 3.06424C13.1548 2.31192 11.935 2.31192 11.1827 3.06424L4.29697 9.94997C4.00223 10.2447 3.81104 10.6271 3.75209 11.0397L3.34343 13.9003C3.25262 14.536 3.7975 15.0809 4.43318 14.9901Z" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <p>Edit</p>
                        </a>

                        {% else %}
                        <a href="{% url 'initiate' project.id %}" class="support-project-link">
                            <i class="ri-hand-heart-line"></i>
                            <p>Support Project</p>
                        </a>
                        {% endif %}
                        
                        {% if project.amount_raised >= project.project_target_amount %}
                        <p class="state">Funded</p>
                        {% else %}
                        <p class="state">In Progress</p>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
    
            </span>
       </div>
       

    </div>

    </section>
</main>

{% endblock content %}